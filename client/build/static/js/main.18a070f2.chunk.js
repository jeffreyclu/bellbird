(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,function(e,t,n){e.exports={chirp:"chirp_chirp__2nYN_",chirpId:"chirp_chirpId__1Z0zQ",chirpText:"chirp_chirpText__1L99b"}},function(e,t,n){e.exports={chirperContainer:"chirper_chirperContainer__34wRA",chirpInput:"chirper_chirpInput__2wmI9",chirper:"chirper_chirper__KyBzI"}},function(e,t,n){e.exports={app:"app_app__M9MMq",chirpContainer:"app_chirpContainer__1C5at",chirps:"app_chirps__1bpOU"}},,,function(e,t,n){e.exports={upvoter:"upvoter_upvoter__jxD7L"}},function(e,t,n){e.exports={upvoteContainer:"upvote-container_upvoteContainer__1XA8k"}},,,,,function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(9),a=n.n(c),s=(n(16),n(2)),i=n.n(s),o=n(3),p=n(4),u=n(10),h=n.n(u),l=n(0),j=function(e){var t=e.id,n=e.setStatus,r=function(){var e=Object(o.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/chirp/upvote/".concat(t),{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",body:null});case 2:return r=e.sent,e.next=5,r.json();case 5:e.sent&&n("fetching");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsx)("button",{styles:h.a.upvoter,onClick:r,children:"Upvote"})},d=n(11),f=n.n(d),v=function(e){var t=e.id,n=e.setStatus,r=e.upvotes;return Object(l.jsxs)("div",{className:f.a.upvoteContainer,children:[Object(l.jsx)("span",{children:r}),Object(l.jsx)(j,{id:t,setStatus:n})]})},x=n(5),b=n.n(x),O=function(e){var t=e.id,n=e.text,r=e.setStatus,c=e.upvotes;return Object(l.jsxs)("li",{className:b.a.chirp,children:[Object(l.jsx)("span",{className:b.a.chirpId,children:t}),Object(l.jsx)("span",{className:b.a.chirpText,children:n.toUpperCase()}),Object(l.jsx)(v,{id:t,setStatus:r,upvotes:c})]})},_=n(6),m=n.n(_),g=function(e){var t=e.setStatus,n=Object(r.useState)(""),c=Object(p.a)(n,2),a=c[0],s=c[1],u=function(){var e=Object(o.a)(i.a.mark((function e(n){var r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://bellbird.joinhandshake-internal.com/push",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chirp_id:n.id})});case 3:return r=e.sent,e.next=6,r.json();case 6:c=e.sent,console.log(c),c.success&&(s(""),t("fetching")),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(o.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/chirp/post",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:a})});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent)&&setTimeout((function(){return u(n)}),500),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:m.a.chirperContainer,children:[Object(l.jsx)("input",{className:m.a.chirpInput,placeholder:"Chirp something",type:"text",onChange:function(e){s(e.target.value)},value:a}),Object(l.jsx)("button",{className:m.a.chirper,onClick:h,children:"Chirp"})]})},C=n(7),S=n.n(C);var y=function(){var e=Object(r.useState)([]),t=Object(p.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)("fetching"),s=Object(p.a)(a,2),u=s[0],h=s[1];Object(r.useEffect)((function(){"fetching"===u&&(j(),h("fetched"))}),[u]);var j=function(){var e=Object(o.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/chirp/get");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,console.log("data",n),c(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),d=n.reverse().map((function(e,t){var n=e.id,r=e.text,c=e.upvotes;return Object(l.jsx)(O,{id:n,text:r,setStatus:h,upvotes:c},"Chirp ".concat(t))}));return Object(l.jsxs)("div",{className:S.a.app,children:[Object(l.jsx)("h1",{children:"Chirps"}),"fetched"===u&&Object(l.jsx)("article",{className:S.a.chirpContainer,children:Object(l.jsx)("ul",{className:S.a.chirps,children:n.length?d:Object(l.jsx)("span",{children:"No Chirps Yet!"})})}),Object(l.jsx)(g,{setStatus:h})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};a.a.render(Object(l.jsx)(y,{}),document.getElementById("root")),N()}],[[19,1,2]]]);
//# sourceMappingURL=main.18a070f2.chunk.js.map